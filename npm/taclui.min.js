!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TaclUI=e():t.TaclUI=e()}(this,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var o=[];function i(){o.pop()}function r(){return 0===o.length?"":o[o.length-1]}function l(t){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?t:r()+t}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return-1===".#[]".indexOf(t[t.length-1])&&(n=0),t.substring(e,t.length-n)}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t){var e=t.html,n=t.method,o=void 0===n?{}:n,i=t.result,r=void 0===i?null:i;this.html(function(t){return t.replace(new RegExp("\\n *","g"),"").replace(new RegExp("\x3c!--(.|\\n)*?--\x3e","g"),"").trim()}(e));var l={};if("function"==typeof r){for(var a=this.query("[\\@el]"),c=0;c<a.length;c++){var h=a[c];l[h.attr("@el")]=h,h.attr("@el",null)}r.call({el:this,method:o},l)}for(var f=this.query("[\\@event]"),d=0;d<f.length;d++){var p,m=f[d],g=u(m);o[g.name]&&m.on(g.event,(p=o[g.name]).bind.apply(p,[{el:this,bindEl:l,self:m,method:o}].concat(s(g.args))))}return this}function u(t){var e=t.attr("@event").split(":");t.attr("@event",null);var n,o="click",i=[];if(1===e.length?n=e[0]:(o=e[0],n=e[1]),-1!==n.indexOf("(")){var r=n.match(/\(.*\)/);if(null!==r){var l=r[0].replace(/'/g,'"');l="[".concat(l.substr(1,l.length-2),"]"),i=JSON.parse(l)}n=n.substr(0,n.indexOf("("))}return{event:o,name:n,args:i}}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var p=function(){function t(e){var n=e.tag,o=e.ele;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o)this.el=o;else{var i=function(t){if(null===t.match(/[#\.\[]/))return{tag:t};var e={};return e.tag=a(t.match(/^(\S*?)(#|\.|\[)/g)[0],0),-1!==t.indexOf("#")&&(e.id=a(t.match(/(#)(\S*?)(\.|\[|$)/g)[0])),-1!==t.indexOf(".")&&(e.cls=a(t.match(/(\.)(\S*?)(#|\[|$)/g)[0]).split(".").join(" ").trim()),-1!==t.indexOf("[")&&(e.attr={},t.match(/(\[)(\S*?)(\])/g).map((function(t){return a(t).split("=")})).forEach((function(t){e.attr[t[0]]=t[1]||""}))),e}(n,r());this.el=document.createElement(i.tag),i.cls&&this.cls(i.cls),i.attr&&this.attr(i.attr),i.id&&this.id(i.id)}}var e,n;return e=t,(n=[{key:"dom",value:function(){return this.el}},{key:"cls",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return void 0===t?this.el.className:(e&&""!==r()?this.el.className=t.split(" ").map((function(t){return l(t)})).join(" "):this.el.className=t,this)}},{key:"id",value:function(t){return void 0===t?this.attr("id"):this.attr("id",t)}},{key:"attr",value:function(t,e){if("object"===f(t)){for(var n in t)this.el.setAttribute(n,t[n]);return this}return void 0===e?this.el.getAttribute(t):(null===e?this.el.removeAttribute(t):this.el.setAttribute(t,e),this)}},{key:"hasAttr",value:function(t){return this.el.hasAttribute(t)}},{key:"rmAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"style",value:function(t,e){var n=this;if(void 0===e){if(t instanceof Array){var o={};return t.forEach((function(t){o[t]=n.style(t)})),o}if("object"===f(t)){for(var i in t)this.style(i,t[i]);return this}return getComputedStyle(this.el)[t]}return"string"==typeof e&&-1!==e.indexOf("!important")?this.el.style.setProperty(t,g(this.el,t,e.substring(0,e.indexOf("!important"))),"important"):this.el.style.setProperty(t,g(this.el,t,e)),this}},{key:"text",value:function(t){return void 0===t?this.el.innerText:(this.el.innerText=t,this)}},{key:"value",value:function(t){return void 0===t?this.el.value:(this.el.value=t,this)}},{key:"html",value:function(t){return void 0===t?this.el.innerHTML:(this.el.innerHTML=t,this)}},{key:"click",value:function(t,e){return this.on("click",t,e)}},{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("object"===f(t)){for(var o in t)this.on(o,t[o]);return this}if("function"!=typeof e)throw new Error("事件类型应该为 function");return this.el.addEventListener(t,e,n),this}},{key:"addClass",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=l(t,e),this.hasClass(t)||(""===this.el.className?this.el.className=t:this.el.className+=" ".concat(t)),this}},{key:"hasClass",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return m(t=l(t,e)).test(this.el.className)}},{key:"rmClass",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=l(t,e),this.hasClass(t)&&(this.el.className=this.el.className.replace(m(t)," ").trim()),this}},{key:"replaceClass",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t=l(t,n),e=l(e,n),this.hasClass(t)?this.el.className=this.el.className.replace(m(t)," ".concat(e," ")).trim():this.addClass(e),this}},{key:"toggleClass",value:function(t){return this.hasClass(t)?this.rmClass(t):this.addClass(t)}},{key:"append",value:function(){for(var t=this,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return n.forEach((function(e){e instanceof Array?e.forEach((function(e){t.appendSingle(e)})):t.appendSingle(e)})),this}},{key:"appendSingle",value:function(t){var e=this;if(null===t)return this;var n=y(t);try{this.el.appendChild(n)}catch(t){return console.warn(t),this}return"function"==typeof n.__ed_mounted&&setTimeout((function(){if("function"==typeof n.__ed_mounted){var t=b(n);n.__ed_mounted.call(t,t,e)}n.__ed_mounted=null})),this}},{key:"name",value:function(t){return this.attr("el-name",t)}},{key:"insert",value:function(){for(var t=this,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=n.shift();n[0]instanceof Array&&(n=n[0]);var r=this.child(i);return r?n.forEach((function(e){t.el.insertBefore(y(e),r.el)})):this.append.apply(this,h(n)),this}},{key:"prepend",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.insert.apply(this,[0].concat(e))}},{key:"before",value:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=this.parent()).insert.apply(t,[this.index()].concat(n))}},{key:"after",value:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=this.parent()).insert.apply(t,[this.index()+1].concat(n))}},{key:"remove",value:function(t){if(void 0!==t)return"number"==typeof t?this.el.removeChild(this.el.children[t]):this.el.removeChild(t.dom()),this;this.parent().remove(this)}},{key:"empty",value:function(){return this.html("")}},{key:"parent",value:function(e){if("number"==typeof e){if(e<1)return null;for(var n=this,o=0;o<e;o++)if(!(n=n.parent()))return null;return n}return this.el.parentElement?new t({ele:this.el.parentElement}):null}},{key:"data",value:function(t,e){void 0===this.el._ed_data&&(this.el._ed_data={});var n=this.el._ed_data;if(void 0===t)return n;if("object"===f(t))if(null===t)n={};else for(var o in t)this.data(o,t[o]);else if(null===e)delete n[t];else{if(void 0===e)return n[t];n[t]=e}return this}},{key:"index",value:function(){for(var t=this.parent().child(),e=0;e<t.length;e++)if(t[e].el===this.el)return e;return-1}},{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.parent().child(this.index()+t)}},{key:"prev",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.next(-t)}},{key:"child",value:function(e){return"number"==typeof e?e>=this.el.children.length||e<0?null:new t({ele:this.el.children[e]}):"string"==typeof e?this.query('[el-name="'.concat(e,'"]'),!0):Array.prototype.slice.apply(this.el.children).map((function(e){return new t({ele:e})}))}},{key:"brother",value:function(t){return"number"==typeof t?this.parent().child(t):this.parent().child()}},{key:"created",value:function(t){return t.call(this,this),this}},{key:"mounted",value:function(t){return this.el.__ed_mounted=t,this}},{key:"src",value:function(t){return this.dom().src=t,this}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.call(this,t)}},{key:"query",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=this.el.querySelector(t);return n?b(n):null}for(var o=this.el.querySelectorAll(t),i=[],r=0;r<o.length;r++)i.push(b(o[r]));return i}},{key:"hide",value:function(){return this.style("display","none")}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block";return this.style("display",t)}},{key:"setVisible",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";return t?this.show(e):this.hide()}}])&&d(e.prototype,n),t}();function m(t){return new RegExp("(^| )".concat(t,"($| )"))}function g(t,e,n){if("string"==typeof n&&(-1!==n.indexOf("-=")||-1!==n.indexOf("+="))){var o,i=v(n.substring(n.indexOf("=")+1));return-1!==n.indexOf("-=")&&(i[0]=-i[0]),o=-1!==n.indexOf("%")?v(t.style[e]):v(getComputedStyle(t)[e]),i[0]+o[0]+i[1]}return n}function v(t,e){if(""!==t&&void 0!==t||(t="0%"),void 0===e)if(t.has("px"))e="px";else if(t.has("%"))e="%";else{if(!t.has("em"))return[parseFloat(t),"px"];e="em"}return[parseFloat(t.substring(0,t.indexOf(e))),e]}function y(t){return t instanceof HTMLElement?t:"string"==typeof t?document.querySelector(t):t.el}function b(t,e){if(t instanceof HTMLElement)return new p({ele:t});if("object"===f(t))return t;if(!0===e)return document.querySelectorAll(t);var n=document.querySelector(t);return n?new p({ele:n}):null}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w={},k={};function C(t){var e=t.func,n=t.id,o=void 0===n?"el-style":n,i=t.pool,r=void 0!==i&&i;if("function"!=typeof e||!e.hasReport){if(r){var l=e(w);return e.hasReport=!0,void(k[o]?k[o]+=l:k[o]=l)}var a="";"string"==typeof e?a=e:(e.hasReport=!0,a=e(w)),a=function(t){return t.replace(new RegExp("\\n *","g"),"").replace(new RegExp(" *\\{","g"),"{").replace(new RegExp("\\/\\*(.|\\n)*?\\*\\/","g"),"").trim()}(a);var s=A.query("#".concat(o));s||(s=A.create("style").id(o),A.query(document.head).append(s)),s.html(s.html()+a)}}var S=function(){};function O(t,e){var n=[{clientX:t.clientX,clientY:t.clientY,force:1,identifier:0,pageX:t.pageX,pageY:t.pageY,radiusX:11.5,radiusY:11.5,rotationAngle:0,screenX:t.screenX,screenY:t.screenY,target:t.target}];return t.touchType=e,t.touches="touchend"===e?[]:n,t.changedTouches=n,t}var P=null;function T(){return{width:window.innerWidth,height:window.innerHeight}}function E(){for(var t=navigator.userAgent.toLowerCase(),e=["android","iphone","symbianos","windows phone","ipad","ipod"],n=0;n<e.length;n++)if(t.indexOf(e[n])>0)return"iphone"===e[n]?"ios":e[n];return!1}var A=e.default={query:b,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div";return new p({tag:t})},classPrefix:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;o.push(t),"function"==typeof e&&(e(i),i())},clearClassPrefix:i,checkDom:y,reportStyle:C,addCommonStyle:function t(e,n){if("object"!==x(e))void 0===w[e]?w[e]=n:console.warn("addCommonStyle 存在重名变量：".concat(e));else for(var o in e)t(o,e[o])},initStylePool:function(){for(var t in k)C({func:k[t],id:t});k={}},registTouchEvent:function(t){var e=t.el,n=t.touchStart,o=void 0===n?S:n,i=t.touchMove,r=void 0===i?S:i,l=t.touchEnd,a=void 0===l?S:l;if(/Android|iPad|iPhone|iPod|BlackBerry/i.test(navigator.userAgent))A.query(e).on({touchstart:o,touchmove:r,touchend:a});else{var s=!1;A.query(e).on({mousedown:function(t){s=!0,o(O(t,"touchstart"))}}),A.query(document.body).on({mousemove:function(t){t.preventDefault(),s&&r(O(t,"touchmove"))},mouseup:function(t){s&&(s=!1,a(O(t,"touchend")))}})}},windowSize:function(t){return P?{width:P.width,height:P.height}:!0===t?T():!1!==E()?T():{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},isMobile:E,version:"0.0.29",setWindowSize:function(t){P=t}}}]).default},function(t,e,n){"use strict";n.r(e);var o=n(0),i=n.n(o).a,r={common:{},piece:{mask:"position:fixed;z-index:10000;background-color:rgba(0,0,0,0);width:100%;height:100%;top:0;left:0;font-size:16px;transition:background-color .3s ease;",centerWrapper:"position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);padding: 10px;background-color: rgba(0,0,0,.6);border-radius: 5px;text-align: center;max-width: 50%;color:#fff;",overScroll:"word-break: break-all;max-height: 300px;overflow: auto;margin: 10px 0;"}},l=i;function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TACL-UI";l.reportStyle({func:t,id:e,pool:!0})}function s(t){t.addClass("tacl-ui")}l.addCommonStyle(r),a((function(){return'.tacl-ui{font-size:15px;color:#222;font-family:"Microsoft YaHei";margin:0;padding:0;}.tacl-ui,.tacl-ui *{box-sizing: border-box;}'}));var c="g-loading-",u={el:null,timer:null,lastParent:null,onhide:null,onopen:null};function h(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;o.onhide&&o.onhide(),o.onhide=null,o.onopen=null;var i="";"object"==typeof t&&(n=t.parent,e=t.time,t.onhide&&(o.onhide=t.onhide),o.onopen=t.onopen,i=t.backgroundOpacity,t=t.text),function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.body,i=arguments.length>4?arguments[4]:void 0;if(o=l.query(o),n.el)o.el!==n.lastParent.el&&(n.lastParent=o,o.append(n.el.mask));else{n.el={},n.lastParent=o,l.classPrefix(c);var r=l.create().cls("mask"),a=l.create().cls("wrapper").html('<svg class="g-loading-circular" viewBox="0 0 50 50"><circle class="g-loading-path" cx="25" cy="25" r="20" fill="none"></circle></svg>');n.el.text=l.create().cls("text"),a.append(n.el.text),l.clearClassPrefix(),s(r),o.append(r.append(a)),n.el.mask=r,n.el.wrapper=a}n.el.mask.style("background-color",i?"rgba(0,0,0,".concat(i,")"):"transparent"),function(t,e,n){var o="number"==typeof e;n.el.isOpen=!0,n.el.mask.style("display","block"),n.el.text.text(t),window.setTimeout(()=>{n.onopen&&n.onopen(n.el.mask),n.el.wrapper.addClass("".concat(c,"open"))},20),o&&(clearTimeout(n.timer),n.timer=setTimeout(()=>{f()},e))}(t,e,n)}(t,e,o,n,i)}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;t.el&&t.el.isOpen&&(t.el.isOpen=!1,t.el.wrapper.rmClass("".concat(c,"open")),window.setTimeout(()=>{t.onhide&&(t.onhide(),t.onhide=null),t!==u?t.el.mask.remove():(t.el.mask.style("display","none"),t.el.text.text(""))},350))}a((function(t){return".g-loading-mask{".concat(t.piece.mask,";background-color:transparent;}.g-loading-wrapper{").concat(t.piece.centerWrapper,"opacity:0;transition:opacity .3s ease;padding: 10px 12px;}.g-loading-wrapper.g-loading-open{opacity:1;}.g-loading-circular{width:42px;height:42px;animation:g-loading-rotate 2s linear infinite;}.g-loading-text{").concat(t.piece.overScroll,"margin: 0;}.g-loading-path{animation:g-loading-dash 1.5s ease-in-out infinite;stroke-dasharray:90 120;stroke-dashoffset:0;stroke-width:4;stroke:#fff;stroke-linecap:round;}@keyframes g-loading-dash{0%{stroke-dasharray:1 200;stroke-dashoffset:0;}50%{stroke-dasharray:90 150;stroke-dashoffset:-40px;}100%{stroke-dasharray:90 150;stroke-dashoffset:-120px;}}@keyframes g-loading-rotate{to{transform:rotate(1turn);}}")})),h.new=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,o={};return n(t,e,o),()=>{f(o)}},h.close=f;var d=h,p={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},m="g-toast-",g={el:null,timer:null,lastParent:null,onhide:null,onopen:null};function v(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;o.onhide&&o.onhide(),o.onhide=null,o.onopen=null;var i=!1,r=p.MIDDLE,a="",c=!1,u=null;"object"==typeof t&&(u=t.button,c=t.showClose,e=t.time,r=t.position,n=t.parent,t.onhide&&(o.onhide=t.onhide),o.onopen=t.onopen,a=t.customClass||"","boolean"==typeof t.contentHtml&&(i=t.contentHtml),t=t.text),o.customClass=a,function(t){var{text:e="",time:n=2e3,position:o=p.MIDDLE,parent:i=document.body,contentHtml:r,target:a,showClose:c,button:u}=t;if(i=l.query(i),a.el)i.el!==a.lastParent.el&&(a.lastParent=i,i.append(a.el.wrapper));else{a.el={},a.lastParent=i,l.classPrefix(m);var h=l.create().cls("wrapper"),f=l.create().cls("content"),d=l.create("span").cls("close").text("✕").click(()=>{y(a)}),g=l.create("span").cls("btn");h.append([f,d,g]),l.clearClassPrefix(),s(h),l.query(i).append(h),a.el.wrapper=h,a.el.content=f,a.el.close=d,a.el.btn=g}!function(t){var{text:e,time:n,position:o,contentHtml:i,target:r,showClose:a,button:s}=t,c="number"==typeof n;r.el.isOpen=!0,r.el.wrapper.style("display","block");var u="";r.el.close[a?"show":"hide"](),u+=a?" has-close":"",s?(u+=" has-btn",r.el.btn.text(s.text).show(),r.el.btn.el.onclick=()=>{s.onclick()}):r.el.btn.hide();l.classPrefix(m,()=>{r.el.wrapper.cls("wrapper ".concat(o).concat(u))}),r.customClass&&r.el.wrapper.addClass(r.customClass,!1);void 0!==e&&(i?r.el.content.html(e):r.el.content.text(e));window.setTimeout(()=>{r.onopen&&r.onopen(r.el.wrapper),r.el.wrapper.addClass("".concat(m,"open"))},20),c&&(clearTimeout(r.timer),r.timer=setTimeout(()=>{y(r)},n))}({text:e,time:n,position:o,contentHtml:r,target:a,showClose:c,button:u})}({text:t,time:e,position:r,parent:n,contentHtml:i,target:o,showClose:c,button:u})}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return!(!t.el||!t.el.isOpen)&&(t.el.isOpen=!1,t.el.wrapper.rmClass("".concat(m,"open")),window.setTimeout(()=>{t.onhide&&(t.onhide(),t.onhide=null),t!==g?t.el.wrapper.remove():t.el.wrapper.style("display","none")},350),!0)}a((function(t){return".g-toast-wrapper{".concat(t.piece.centerWrapper).concat(t.piece.overScroll,"opacity:0;transition:opacity .3s ease;padding: 8px 10px;z-index: 10000;position: fixed;}.g-toast-wrapper.g-toast-bottom{top: 90%;}.g-toast-wrapper.g-toast-top{top: 8%;}.g-toast-wrapper.g-toast-bottom{top: 90%;}.g-toast-wrapper.g-toast-open{opacity:1;}.g-toast-wrapper.g-toast-has-close{padding-right: 25px!important;}.g-toast-wrapper.g-toast-has-btn{padding-right: 45px!important;}.g-toast-btn,.g-toast-close{display: block;position: absolute;right: 5px;top: 50%;transform: translateY(-50%);color: #aaa;padding: 0 2px;font-size: 16px;cursor: pointer;}.g-toast-close:hover{color: #f44;}.g-toast-btn{color: #ddd;text-decoration: underline;font-size: 14px;}.g-toast-btn:hover{color: #fff;}")})),v.new=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,o={};return n(t,e,o),()=>{y(o)}},v.close=y;var b=v,x="default",w={CONFIRM:"confirm",ALERT:"alert",POP:"pop"};a((function(t){return".g-confirm-mask{".concat(t.piece.mask,"}.g-confirm-mask.g-confirm-open{background-color:rgba(0,0,0,.4);}.g-confirm-box{width:80%;background-color:#fff;position:absolute;left:50%;transform:translate(-50%,-50%);border-radius:3px;box-sizing:border-box;opacity:0;top:55%;transition:all .3s ease;max-width: 320px;}.g-confirm-mask.g-confirm-open .g-confirm-box{opacity:1;top:50%;}.g-confirm-title{font-size:18px;text-align:center;font-weight:bold;margin-top:15px;}.g-confirm-content{padding:15px;font-size:18px;line-height:25px;text-align:center;color:#888;").concat(t.piece.overScroll,"}.g-confirm-content::-webkit-scrollbar{width:5px;cursor: pointer;height: 5px;}.g-confirm-content::-webkit-scrollbar-button{display: none;}.g-confirm-content::-webkit-scrollbar-track{display: none;}.g-confirm-content::-webkit-scrollbar-track-piece{background-color:#88888811;}.g-confirm-content::-webkit-scrollbar-thumb{background-color: #666;border-radius: 3px;cursor: pointer;}.g-confirm-content::-webkit-scrollbar-thumb:hover{background-color:#aaa;cursor: pointer;}.g-confirm-btn-w{display:flex;border-top:1px solid #eee;justify-content: center;}.g-confirm-btn{flex:1;text-align:center;padding:12px;cursor:pointer;}.g-confirm-btn{border-right:1px solid #eee;}.g-confirm-confirm{color:#5185d5;border-right:none;}.g-confirm-close{position: absolute;right: 10px;top: 6px;font-size: 17px;color: #888;cursor: pointer;}.g-confirm-box.g-confirm-yellow, .g-confirm-box.g-confirm-gamer{padding: 20px;width: 90%;}.g-confirm-yellow .g-confirm-btn-w, .g-confirm-gamer .g-confirm-btn-w{border: none;}.g-confirm-yellow .g-confirm-btn, .g-confirm-gamer .g-confirm-btn{border: 1px solid #bbb;color: #bbb;padding: 6px;margin: 0 20px;border-radius: 20px;max-width: 120px;}.g-confirm-yellow .g-confirm-confirm{border: 1px solid rgb(255,223,83);background-color: rgb(255,223,83);color: #555;}.g-confirm-box.g-confirm-gamer{background-image: linear-gradient(to bottom, #2c2c3e, #373d5a);color: #fff;border-radius: 5px;border: 1px solid #535b82;}.g-confirm-gamer .g-confirm-btn-w{border: none;}.g-confirm-gamer .g-confirm-btn{color: #fff;border: 1px solid #f97728;}.g-confirm-gamer .g-confirm-confirm{border: none;background-image: linear-gradient(to right, #e95a04, #f97728);}.g-confirm-gamer .g-confirm-close{font-size: 20px;}.g-confirm-gamer .g-confirm-title{display: none;}.g-confirm-gamer.g-confirm-type-pop .g-confirm-title{display: block;}.g-confirm-gamer .g-confirm-content{padding: 30px 15px;color: #fff;}")}));var k="g-confirm-",C={el:null,onhide:null,onopen:null,lastParent:null,lastCustomed:!1};function S(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;return n.onhide&&n.onhide(),n.onhide=null,n.onopen=null,new Promise((o,i)=>{try{!function(t,e,n,o){(function(t){t.lastCustomed&&t.el&&(t.el.mask.remove(),t.el=null,t.lastCustomed=!1)})(o),t=function(t,e){"string"==typeof t&&(t={title:e,text:t});t.type===w.CONFIRM&&(t.theme||(t.theme=S.theme),S.onOptions&&(t=S.onOptions(t)));return Object.assign({},O,t)}(t,e),function(t,e){var n=l.query("object"==typeof e&&e.parent?e.parent:document.body);if(t.el)n.el!==t.lastParent.el&&(t.lastParent=n,n.append(t.el.mask));else{t.el={},t.lastParent=n,l.classPrefix(k);var o=l.create().cls("mask"),i=l.create().cls("box"),r=l.create().cls("title"),a=l.create().cls("content"),c=l.create().cls("btn-w"),u=l.create().cls("btn"),h=l.create().cls("btn confirm"),f=l.create().cls("close").text("✕");l.clearClassPrefix(),s(o),n.append(o.append(i.append(r,a,c.append(u,h),f))),t.el.box=i,t.el.title=r,t.el.content=a,t.el.btnCancel=u,t.el.btnConfirm=h,t.el.btnClose=f,t.el.mask=o}t.onopen=e.onopen,t.onhide=e.onhide,e.onGetCloseMethod&&e.onGetCloseMethod(()=>{P(t)})}(o,t),o.el.box.cls("".concat(k,"box ").concat(k,"type-").concat(t.type)),o.el.title.text(t.title),function(t,e){t.el.content.empty(),e.customEl?(t.lastCustomed=!0,"string"==typeof e.customEl?t.el.content.html(e.customEl):t.el.content.append(l.query(e.customEl))):t.el.content[e.contentHtml?"html":"text"](e.text)}(o,t),t.customClass&&(o.lastCustomed=!0,o.el.box.addClass(t.customClass));o.el.btnConfirm.text(t.confirmText),o.el.btnCancel.text(t.cancelText),o.el.btnCancel.style("display",t.cancelBtn?"block":"none"),o.el.btnConfirm.style("display",t.confirmBtn?"block":"none"),o.el.btnClose.style("display",t.closeBtn?"block":"none"),o.el.btnCancel.el.onclick=()=>{n("cancel"),t.clickCancelClose&&P(o),t.oncancel&&t.oncancel()},o.el.btnConfirm.el.onclick=()=>{n("confirm"),t.clickConfirmClose&&P(o),t.onconfirm&&t.onconfirm()},o.el.btnClose.el.onclick=()=>{n("close"),P(o)},o.el.box.addClass("".concat(k).concat(t.theme)),t.custom&&(o.lastCustomed=!0,t.custom(o.el.box,l));!function(t){t.el.isOpen=!0,t.el.mask.style("display","block"),window.setTimeout(()=>{if(t.el.mask.addClass("".concat(k,"open")),t.onopen){var e=t.onopen;t.onopen=null,e(t.el.mask)}},20)}(o)}(t,e,o,n)}catch(t){i(t)}})}S.new=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return n(t,e,{})},S.close=P,S.theme=x,S.onOptions=null;var O={title:"提示框",text:"是否确认该操作",confirmText:"确定",cancelText:"取消",cancelBtn:!0,confirmBtn:!0,closeBtn:!0,theme:"default",customClass:"",customEl:"",contentHtml:!1,custom:null,type:"confirm",onGetCloseMethod:null,clickConfirmClose:!0,clickCancelClose:!0,onconfirm:null,oncancel:null};function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return!(!t.el||!t.el.isOpen)&&(t.el.isOpen=!1,t.el.mask.rmClass("".concat(k,"open")),window.setTimeout(()=>{if(t.onhide){var e=t.onhide;t.onhide=null,e()}t!==C?t.el.mask.remove():t.el.mask.style("display","none")},350),!0)}var T=S,E={},A=function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;return"string"==typeof e&&(e={text:e,title:n}),e.cancelBtn=!1,e.type=w.ALERT,e.theme||(e.theme=t.theme),t.onOptions&&(e=t.onOptions(e)),T(e,void 0,o)};A.theme=x,A.new=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;return n(t,e,{})},A.close=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;T.close(t)},A.onOptions=null;var j=A,M={},_=function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M;return("string"==typeof e||e instanceof HTMLElement||"Ele"===e.constructor.name)&&(e={customEl:e,title:n}),e.type=w.POP,e.theme||(e.theme=t.theme),t.onOptions&&(e=t.onOptions(e)),T(e,void 0,o)};_.theme=x,_.new=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return n(t,e,{})},_.close=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;T.close(t)},_.onOptions=null;var L=_;a((function(){return".g-drag-wrapper{position: fixed;z-index: 100;box-sizing: border-box;width: auto;height: auto;cursor: pointer;}"}));var D="g-drag-",Y=function(){};var z=class{constructor(t){var{el:e,parent:n=null,enableDrag:o=!0,onClick:i=Y,onSideChange:r=Y,onDragStart:a=Y,onDragMove:s=Y,onDragEnd:c=Y,zIndex:u=100,delay:h=0,aside:f=!1,preventDefault:d=!0,reinitPosition:p=!1,position:m=null,margin:g=3}=t;this.el=l.create().cls("".concat(D,"wrapper")),this.el.append(e),this.parent=null,null===n?n=l.query(document.body):(n=l.query(n),this.el.style("position","absolute"),this.parent=n),n.append(this.el),"number"==typeof g&&(g=[g,g,g,g]),this.preventDefault=d,this.margin=g,this.disX,this.disY,this.moveX,this.moveY,this.L,this.T,this.starX,this.starY,this.startTime,this.left="auto",this.top="auto",this.enableDrag=o,this.onClick=i,this.onSideChange=r,this.sideLeft=!1,this.aside=f,this.onDragStart=a,this.onDragMove=s,this.onDragEnd=c,this.touchActiveInit(u),this.initPosition(!0,m);var v=()=>{h>0?window.setTimeout(()=>{this.initPosition()},h):this.initPosition()};!0===p&&(window.addEventListener("orientationchange",v,!1),window.addEventListener("resize",v,!1))}touchActiveInit(t){this.el.style({left:"auto",top:"auto","z-index":t}),l.registTouchEvent({el:this.el,touchStart:this.touchStart.bind(this),touchMove:this.touchMove.bind(this),touchEnd:this.touchEnd.bind(this)})}getParentSize(){return null===this.parent?l.windowSize():{width:this.parent.el.offsetWidth,height:this.parent.el.offsetHeight}}initPosition(t,e){setTimeout(()=>{if(e)this.setPosition(e.left,e.top);else{var n,o=this.getParentSize(),i=this.el.dom(),r=this.sideLeft?this.margin[3]:o.width-i.offsetWidth-this.margin[1],l=o.height-i.offsetHeight-this.margin[0];(t||this.top>l)&&(n=l),this.setPosition(r,n)}},50)}setPosition(t,e){this.left=t,this.el.style("left","".concat(this.left,"px")),void 0!==e&&(this.top=e,this.el.style("top","".concat(this.top,"px")))}touchStart(t){this.preventDefault&&t.preventDefault(),this.disX=t.touches[0].clientX-this.el.dom().offsetLeft,this.disY=t.touches[0].clientY-this.el.dom().offsetTop,this.starX=t.touches[0].clientX,this.starY=t.touches[0].clientY,this.onDragStart.call(this,t,this.starX,this.starY)}touchMove(t){var e=this.getParentSize();this.L=t.touches[0].clientX-this.disX,this.T=t.touches[0].clientY-this.disY;var n=this.el.dom();this.L<0?this.L=0:this.L>e.width-n.offsetWidth&&(this.L=e.width-n.offsetWidth),this.T<0?this.T=0:this.T>e.height-n.offsetHeight&&(this.T=e.height-n.offsetHeight),this.moveX=this.L,this.moveY=this.T,this.enableDrag&&(this.setPosition(this.moveX,this.moveY),this.onDragMove.call(this,t,this.moveX,this.moveY))}touchEnd(t){this.preventDefault&&t.preventDefault();var e=this.el.dom(),n=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY,i=this.getParentSize(),r=i.width,l=i.height,a=e.offsetWidth,s=e.offsetHeight,c=Math.abs(this.starX-n)<2,u=Math.abs(this.starY-o)<2;c&&u&&this.onClick.call(this,t,n,o);var h=n<=r/2;n-=this.disX,o-=this.disY,this.aside&&(n=h?this.margin[3]:r-a-this.margin[1]),o<this.margin[0]?o=this.margin[0]:o>l-this.margin[2]-s&&(o=l-this.margin[2]-s),this.enableDrag&&(e.style.transition="all .2s ease",this.setPosition(n,o),this.aside&&this.sideLeft!==h&&(this.sideLeft=h,this.onSideChange.call(this,this.sideLeft)),setTimeout(()=>{e.style.transition=""},200)),this.onDragEnd.call(this,t,n,o)}};n.d(e,"tool",(function(){return X})),n.d(e,"loading",(function(){return q})),n.d(e,"toast",(function(){return H})),n.d(e,"confirm",(function(){return N})),n.d(e,"alert",(function(){return I})),n.d(e,"pop",(function(){return R})),n.d(e,"drag",(function(){return B}));var X=i,q=d,H=b,N=T,I=j,R=L,B=t=>new z(t);l.initStylePool();e.default={tool:X,loading:q,toast:H,confirm:N,alert:I,drag:B,version:"0.0.42"}}]).default}));