!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TaclUI=e():t.TaclUI=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=n(1),o=n(2),a=n(3),s=(i=n(4))&&i.__esModule?i:{default:i};var l={query:r.query,create:r.create,classPrefix:r.classPrefix,clearClassPrefix:r.clearClassPrefix,checkDom:r.checkDom,reportStyle:o.reportStyle,addCommonStyle:o.addCommonStyle,initStylePool:o.initStylePool,registTouchEvent:a.registTouchEvent,windowSize:function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},version:s.default};e.default=l},function(t,e,n){"use strict";function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.classPrefix=function(t,e){a=t,"function"==typeof e&&(e(s),s())},e.clearClassPrefix=s,e.checkDom=p,e.query=m,e.create=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div";return new c({tag:t})},e.Ele=void 0;var a="";function s(){a=""}function l(t){return a+t}var c=function(){function t(e){var n=e.tag,i=e.ele;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=i||document.createElement(n)}var e,n,s;return e=t,(n=[{key:"dom",value:function(){return this.el}},{key:"cls",value:function(t){return void 0===t?this.el.className:(this.el.className=""!==a?t.split(" ").map((function(t){return l(t)})).join(" "):t,this)}},{key:"id",value:function(t){return void 0===t?this.attr("id"):this.attr("id",t)}},{key:"attr",value:function(t,e){if("object"===r(t)){for(var n in t)this.el.setAttribute(n,t[n]);return this}return void 0===e?this.el.getAttribute(t):(null===e?this.el.removeAttribute(t):this.el.setAttribute(t,e),this)}},{key:"style",value:function(t,e){var n=this;if(void 0===e){if(t instanceof Array){var i={};return t.forEach((function(t){i[t]=n.style(t)})),i}if("object"===r(t)){for(var o in t)this.style(o,t[o]);return this}return getComputedStyle(this.el)[t]}return"string"==typeof e&&-1!==e.indexOf("!important")?this.el.style.setProperty(t,d(this.el,t,e.substring(0,e.indexOf("!important"))),"important"):this.el.style.setProperty(t,d(this.el,t,e)),this}},{key:"text",value:function(t){return void 0===t?this.el.innerText:(this.el.innerText=t,this)}},{key:"html",value:function(t){return void 0===t?this.el.innerHTML:(this.el.innerHTML=t,this)}},{key:"click",value:function(t){return this.on("click",t)}},{key:"on",value:function(t,e){if("object"===r(t)){for(var n in t)this.on(n,t[n]);return this}if("function"!=typeof e)throw new Error("事件类型应该为 function");return this.el.addEventListener(t,e,!1),this}},{key:"addClass",value:function(t){return t=l(t),this.hasClass(t)||(""===this.el.className?this.el.className=t:this.el.className+=" "+t),this}},{key:"hasClass",value:function(t){return f(t=l(t)).test(this.el.className)}},{key:"rmClass",value:function(t){return t=l(t),this.hasClass(t)&&(this.el.className=this.el.className.replace(f(t)," ").trim()),this}},{key:"replaceClass",value:function(t,e){return t=l(t),e=l(e),this.hasClass(t)?this.el.className=this.el.className.replace(f(t)," "+e+" ").trim():this.addClass(e),this}},{key:"append",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach((function(e){t.el.appendChild(p(e))})),this}},{key:"remove",value:function(t){return"number"==typeof t?this.el.removeChild(this.el.children[t]):this.el.removeChild(t.dom()),this}},{key:"parent",value:function(){return new t({ele:this.el.parentNode})}},{key:"child",value:function(e){return e?new t({ele:this.el.children[e]}):Array.prototype.slice.apply(this.el.children).map((function(e){return new t({ele:e})}))}},{key:"exe",value:function(t){return t.call(this,this.dom()),this}},{key:"src",value:function(t){return this.dom().src=t,this}},{key:"render",value:function(t){var e=t.html,n=t.method,r=void 0===n?{}:n,o=t.result,a=void 0===o?null:o;this.html(function(t){return t.replace(new RegExp("\\n *","g"),"").replace(new RegExp("\x3c!--(.|\\n)*?--\x3e","g"),"").trim()}(e));var s={};if("function"==typeof a){for(var l=this.query("[\\@el]"),c=0;c<l.length;c++){var f=l[c];s[f.attr("@el")]=f,f.attr("@el",null)}a.call({el:this,method:r},s)}for(var d=this.query("[\\@event]"),h=0;h<d.length;h++){var p,m=d[h],g=u(m);r[g.name]&&m.on(g.event,(p=r[g.name]).bind.apply(p,[{el:this,bindEl:s,self:m,method:r}].concat(i(g.args))))}return this}},{key:"query",value:function(t){for(var e=this.el.querySelectorAll(t),n=[],i=0;i<e.length;i++)n.push(m(e[i]));return n}}])&&o(e.prototype,n),s&&o(e,s),t}();function u(t){var e=t.attr("@event").split(":");t.attr("@event",null);var n,i="click",r=[];if(1===e.length?n=e[0]:(i=e[0],n=e[1]),-1!==n.indexOf("(")){var o=n.match(/\(.*\)/);if(null!==o){var a=o[0].replace(/'/g,'"');a="[".concat(a.substr(1,a.length-2),"]"),r=JSON.parse(a)}n=n.substr(0,n.indexOf("("))}return{event:i,name:n,args:r}}function f(t){return new RegExp("(^| )"+t+"($| )")}function d(t,e,n){if("string"==typeof n&&(-1!==n.indexOf("-=")||-1!==n.indexOf("+="))){var i,r=h(n.substring(n.indexOf("=")+1));return-1!==n.indexOf("-=")&&(r[0]=-r[0]),i=-1!==n.indexOf("%")?h(t.style[e]):h(getComputedStyle(t)[e]),r[0]+i[0]+r[1]}return n}function h(t,e){if(""!=t&&null!=t||(t="0%"),null==e)if(t.has("px"))e="px";else if(t.has("%"))e="%";else{if(!t.has("em"))return[parseFloat(t),"px"];e="em"}return[parseFloat(t.substring(0,t.indexOf(e))),e]}function p(t){return t instanceof HTMLElement?t:"string"==typeof t?document.querySelector(t):t.dom()}function m(t,e){if(t instanceof HTMLElement)return new c({ele:t});if("object"===r(t))return t;if(!0===e)return document.querySelectorAll(t);var n=document.querySelector(t);return n?new c({ele:n}):null}e.Ele=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addCommonStyle=function t(e,n){if("object"===o(e)){for(var i in e)t(i,e[i]);return}void 0===a[e]?a[e]=n:console.warn("addCommonStyle 存在重名变量："+e)},e.initStylePool=function(){for(var t in s)l({func:s[t],id:t});s={}},e.reportStyle=l;var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a={},s={};function l(t){var e=t.func,n=t.id,i=void 0===n?"el-style":n,o=t.pool,l=void 0!==o&&o;if("function"!=typeof e||!e.hasReport){if(l){var c=e(a);return e.hasReport=!0,void(s[i]?s[i]+=c:s[i]=c)}var u="";"string"==typeof e?u=e:(e.hasReport=!0,u=e(a)),u=function(t){return t.replace(new RegExp("\\n *","g"),"").replace(new RegExp(" *\\{","g"),"{").replace(new RegExp("\\/\\*(.|\\n)*?\\*\\/","g"),"").trim()}(u);var f=r.default.query("#"+i);f||(f=r.default.create("style").id(i),r.default.query(document.head).append(f)),f.html(f.html()+u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registTouchEvent=function(t){var e=t.el,n=t.touchStart,i=void 0===n?o:n,s=t.touchMove,l=void 0===s?o:s,c=t.touchEnd,u=void 0===c?o:c;if(/Android|iPad|iPhone|iPod|BlackBerry/i.test(navigator.userAgent))r.default.query(e).on({touchstart:i,touchmove:l,touchend:u}),document.body.addEventListener("touchmove",(function(t){t.preventDefault()}),{passive:!1});else{var f=!1;r.default.query(e).on({mousedown:function(t){f=!0,i(a(t))}}),r.default.query(document.body).on({mousemove:function(t){t.preventDefault(),f&&l(a(t))},mouseup:function(t){f&&(f=!1,u(a(t,"end")))}})}};var i,r=(i=n(0))&&i.__esModule?i:{default:i};var o=function(){};function a(t,e){var n="touches";return"end"===e&&(n="changedTouches"),t[n]=[{clientX:t.clientX,clientY:t.clientY,force:1,identifier:0,pageX:t.pageX,pageY:t.pageY,radiusX:11.5,radiusY:11.5,rotationAngle:0,screenX:t.screenX,screenY:t.screenY,target:t.target}],t}},function(t,e,n){"use strict";n.r(e),e.default="0.0.14"},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i).a,o={common:{},piece:{mask:"position:fixed;z-index:10000;background-color:rgba(0,0,0,0);width:100%;height:100%;top:0;left:0;font-size:16px;transition:background-color .3s ease;",centerWrapper:"position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);padding: 10px;background-color: rgba(0,0,0,.6);border-radius: 5px;text-align: center;max-width: 50%;color:#fff;"}},a=r;function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TACL-UI";a.reportStyle({func:t,id:e,pool:!0})}function l(t){t.addClass("tacl-ui")}a.addCommonStyle(o),s((function(){return'.tacl-ui{font-size:15px;color:#222;font-family:"Microsoft YaHei";margin:0;padding:0;}.tacl-ui,.tacl-ui *{box-sizing: border-box;}'}));var c=null,u="g-loading-";function f(t,e){"object"==typeof t&&(e=t.time,t=t.text),function(t,e){if(null===c){c={},a.classPrefix(u);var n=a.create().cls("mask"),i=a.create().cls("wrapper").html('<svg class="g-loading-circular" viewBox="0 0 50 50"><circle class="g-loading-path" cx="25" cy="25" r="20" fill="none"></circle></svg>'),r=a.create();a.clearClassPrefix(),l(n),a.query(document.body).append(n.append(i.append(r))),c.mask=n,c.text=r,c.wrapper=i}!function(t,e){var n="number"==typeof e;c.isOpen=!0,c.mask.style("display","block"),void 0!==t&&c.text.text(t);window.setTimeout(()=>{c.wrapper.addClass(u+"open")},10),n&&setTimeout(()=>{d()},e)}(t,e)}(t,e)}function d(){c&&c.isOpen&&(c.isOpen=!1,c.wrapper.rmClass(u+"open"),window.setTimeout(()=>{c.mask.style("display","none"),c.text.text("")},350))}s((function(t){return".g-loading-mask{".concat(t.piece.mask,";background-color:transparent;}.g-loading-wrapper{").concat(t.piece.centerWrapper,"opacity:0;transition:opacity .3s ease;padding: 10px 12px;}.g-loading-wrapper.g-loading-open{opacity:1;}.g-loading-circular{width:42px;height:42px;animation:g-loading-rotate 2s linear infinite;}.g-loading-path{animation:g-loading-dash 1.5s ease-in-out infinite;stroke-dasharray:90 120;stroke-dashoffset:0;stroke-width:4;stroke:#fff;stroke-linecap:round;}@keyframes g-loading-dash{0%{stroke-dasharray:1 200;stroke-dashoffset:0;}50%{stroke-dasharray:90 150;stroke-dashoffset:-40px;}100%{stroke-dasharray:90 150;stroke-dashoffset:-120px;}}@keyframes g-loading-rotate{to{transform:rotate(1turn);}}")})),f.close=d;var h=f,p={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},m=null,g="g-toast-";function y(t,e,n){"object"==typeof t&&(e=t.time,n=t.position,t=t.text),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.MIDDLE;if(null===m){m={},a.classPrefix(g);var i=a.create().cls("wrapper");a.clearClassPrefix(),l(i),a.query(document.body).append(i),m.wrapper=i}!function(t,e,n){var i="number"==typeof e;m.isOpen=!0,m.wrapper.style("display","block"),a.classPrefix(g,()=>{m.wrapper.cls("wrapper "+n)}),void 0!==t&&m.wrapper.text(t);window.setTimeout(()=>{m.wrapper.addClass(g+"open")},10),i&&setTimeout(()=>{v()},e)}(t,e,n)}(t,e,n)}function v(){m&&m.isOpen&&(m.isOpen=!1,m.wrapper.rmClass(g+"open"),window.setTimeout(()=>{m.wrapper.style("display","none")},350))}s((function(t){return".g-toast-wrapper{".concat(t.piece.centerWrapper,"opacity:0;transition:opacity .3s ease;padding: 8px 10px;z-index: 10000;}.g-toast-wrapper.g-toast-bottom{top: 90%;}.g-toast-wrapper.g-toast-top{top: 8%;}.g-toast-wrapper.g-toast-bottom{top: 90%;}.g-toast-wrapper.g-toast-open{opacity:1;}")})),y.close=v;var b=y;s((function(t){return".g-confirm-mask{".concat(t.piece.mask,"}.g-confirm-mask.g-confirm-open{background-color:rgba(0,0,0,.4);}.g-confirm-box{width:80%;background-color:#fff;position:absolute;left:50%;transform:translate(-50%,-50%);border-radius:3px;box-sizing:border-box;opacity:0;top:55%;transition:all .3s ease;max-width: 320px;}.g-confirm-mask.g-confirm-open .g-confirm-box{opacity:1;top:50%;}.g-confirm-title{font-size:18px;text-align:center;font-weight:bold;padding-top:15px;}.g-confirm-content{padding:15px;font-size:18px;line-height:25px;text-align:center;color:#888;}.g-confirm-btn-w{display:flex;border-top:1px solid #eee;justify-content: center;}.g-confirm-btn{flex:1;text-align:center;padding:12px;cursor:pointer;}.g-confirm-btn{border-right:1px solid #eee;}.g-confirm-confirm{color:#5185d5;border-right:none;}.g-confirm-box.g-confirm-gamer{padding: 20px;width: 90%;}.g-confirm-gamer .g-confirm-btn-w{border: none;}.g-confirm-gamer .g-confirm-btn{border: 1px solid #bbb;color: #bbb;padding: 6px;margin: 0 20px;border-radius: 20px;max-width: 120px;}.g-confirm-gamer .g-confirm-confirm{border: 1px solid rgb(255,223,83);background-color: rgb(255,223,83);color: #555;}")}));var x=null,w="g-confirm-";function k(){x.mask.rmClass(w+"open"),window.setTimeout(()=>{x.mask.style("display","none")},350)}var S=function(t,e){return new Promise((n,i)=>{try{!function(t,e,n){if(null===x){x={},a.classPrefix(w);var i=a.create().cls("mask"),r=a.create().cls("box"),o=a.create().cls("title"),s=a.create().cls("content"),c=a.create().cls("btn-w"),u=a.create().cls("btn"),f=a.create().cls("btn confirm");a.clearClassPrefix(),l(i),a.query(document.body).append(i.append(r.append(o,s,c.append(u,f)))),x.box=r,x.title=o,x.content=s,x.btnCancel=u,x.btnConfirm=f,x.mask=i}var d="确定",h="取消",p=!0,m="default";"object"==typeof t&&(t.cancelText&&(h=t.cancelText),t.confirmText&&(d=t.confirmText),"boolean"==typeof t.cancelBtn&&(p=t.cancelBtn),t.theme&&(m=t.theme),e=t.title,t=t.text);x.title.text(e||"提示"),x.content.text(t||"是否确认该操作？"),x.btnConfirm.text(d),x.btnCancel.text(h),x.btnCancel.style("display",p?"block":"none"),x.btnCancel.click(()=>{n(!1),k()}),x.btnConfirm.click(()=>{n(!0),k()}),"gamer"===m?x.box.addClass("".concat(w,"gamer")):x.box.rmClass("".concat(w,"gamer"));x.mask.style("display","block"),window.setTimeout(()=>{x.mask.addClass(w+"open")},10)}(t,e,n)}catch(t){i(t)}})};s((function(){return".g-drag-wrapper{position: fixed;z-index: 100;box-sizing: border-box;width: auto;height: auto;cursor: pointer;}"}));var C="g-drag-",P=function(){};var T=class{constructor(t){var{el:e,parent:n=null,enableDrag:i=!0,onClick:r=P,onSideChange:o=P,zIndex:s=100,aside:l=!1,preventDefault:c=!0,reinitPosition:u=!1,margin:f=3}=t;this.el=a.create().cls(C+"wrapper"),this.el.append(e),this.parent=null,null===n?n=a.query(document.body):(n=a.query(n),this.el.style("position","absolute"),this.parent=n),n.append(this.el),"number"==typeof f&&(f=[f,f,f,f]),this.preventDefault=c,this.margin=f,this.disX,this.disY,this.moveX,this.moveY,this.L,this.T,this.starX,this.starY,this.startTime,this.left="auto",this.top="auto",this.enableDrag=i,this.onClick=r,this.onSideChange=o,this.sideLeft=!1,this.aside=l,this.touchActiveInit(s),this.initPosition(!0),!0===u&&(window.addEventListener("orientationchange",()=>{this.initPosition()},!1),window.addEventListener("resize",()=>{this.initPosition()},!1))}touchActiveInit(t){this.el.style({left:"auto",top:"auto","z-index":t}),a.registTouchEvent({el:this.el,touchStart:this.touchStart.bind(this),touchMove:this.touchMove.bind(this),touchEnd:this.touchEnd.bind(this)})}getParentSize(){return null===this.parent?a.windowSize():{width:this.parent.el.offsetWidth,height:this.parent.el.offsetHeight}}initPosition(t){setTimeout(()=>{var e,n=this.getParentSize(),i=this.el.dom(),r=this.sideLeft?this.margin[3]:n.width-i.offsetWidth-this.margin[1],o=n.height-i.offsetHeight-this.margin[0];(t||this.top>o)&&(e=o),this.setPosition(r,e)},50)}setPosition(t,e){this.left=t,this.el.style("left",this.left+"px"),void 0!==e&&(this.top=e,this.el.style("top",this.top+"px"))}touchStart(t){this.preventDefault&&t.preventDefault(),this.disX=t.touches[0].clientX-this.el.dom().offsetLeft,this.disY=t.touches[0].clientY-this.el.dom().offsetTop,this.starX=t.touches[0].clientX,this.starY=t.touches[0].clientY}touchMove(t){var e=this.getParentSize();this.L=t.touches[0].clientX-this.disX,this.T=t.touches[0].clientY-this.disY;var n=this.el.dom();this.L<0?this.L=0:this.L>e.width-n.offsetWidth&&(this.L=e.width-n.offsetWidth),this.T<0?this.T=0:this.T>e.height-n.offsetHeight&&(this.T=e.height-n.offsetHeight),this.moveX=this.L,this.moveY=this.T,this.enableDrag&&this.setPosition(this.moveX,this.moveY)}touchEnd(t){this.preventDefault&&t.preventDefault();var e=this.el.dom(),n=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY,r=this.getParentSize(),o=r.width,a=r.height,s=e.offsetWidth,l=e.offsetHeight,c=Math.abs(this.starX-n)<2,u=Math.abs(this.starY-i)<2;c&&u&&this.onClick.call(this,t,n,i);var f=n<=o/2;n-=this.disX,i-=this.disY,this.aside&&(n=f?this.margin[3]:o-s-this.margin[1]),i<this.margin[0]?i=this.margin[0]:i>a-this.margin[2]-l&&(i=a-this.margin[2]-l),this.enableDrag&&(e.style.transition="all .2s ease",this.setPosition(n,i),this.aside&&this.sideLeft!==f&&(this.sideLeft=f,this.onSideChange.call(this,this.sideLeft)),setTimeout(()=>{e.style.transition=""},200))}};n.d(e,"tool",(function(){return O})),n.d(e,"loading",(function(){return E})),n.d(e,"toast",(function(){return j})),n.d(e,"confirm",(function(){return M})),n.d(e,"alert",(function(){return L})),n.d(e,"drag",(function(){return Y}));var O=r,E=h,j=b,M=S,L=(t,e)=>("object"==typeof t?t.cancelBtn=!1:t={text:t,title:e,cancelBtn:!1},M(t)),Y=t=>new T(t);a.initStylePool();e.default={tool:O,loading:E,toast:j,confirm:M,alert:L,drag:Y,version:"0.0.21"}}]).default}));